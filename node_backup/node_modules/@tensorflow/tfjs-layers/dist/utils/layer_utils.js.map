{"version":3,"file":"layer_utils.js","sourceRoot":"","sources":["../../src/utils/layer_utils.ts"],"names":[],"mappings":"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"}